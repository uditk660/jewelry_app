<style>
/* Inventory index professional styling (page-scoped) */
.inv { max-width:1200px; margin:28px auto; padding:0 18px; font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial }
.inv-header { display:flex; justify-content:space-between; align-items:center }
.inv-title { font-size:22px; margin:0 }
.inv-actions { display:flex; gap:8px; align-items:center }
.search { padding:8px 10px; border-radius:8px; border:1px solid #e6edf5 }
.card { background:#fff; border-radius:12px; padding:14px; margin-top:14px; box-shadow:0 8px 20px rgba(2,6,23,0.04); border:1px solid rgba(2,6,23,0.03) }
.table { width:100%; border-collapse:collapse; margin-top:8px }
.table th, .table td { padding:12px 10px; text-align:left; border-bottom:1px solid #f1f5f9 }
.low { background:linear-gradient(90deg,#fff7ed,#fff4ed) }
.btn { padding:8px 12px; border-radius:8px; background:#0ea5a4; color:#fff; text-decoration:none; border:none }
.muted { color:#7b8794 }
@media(max-width:900px){ .inv-header { flex-direction:column; align-items:flex-start; gap:8px } }
</style>

<div class="inv">
  <div class="inv-header">
    <h1 class="inv-title">Inventory</h1>
    <div class="inv-actions">
      <form method="get" action="" style="display:inline">
        <input class="search" name="q" placeholder="Search items or SKU" value="<%= params[:q].to_s %>" />
      </form>
      <a href="<%= new_inventory_item_path %>" class="btn">Add Inventory</a>
    </div>
  </div>

  <div class="card">
    <table class="table">
      <thead>
        <tr><th style="width:48%">Item</th><th style="width:16%">Available (g)</th><th style="width:20%">Location</th><th style="width:16%">Actions</th></tr>
      </thead>
      <tbody>
        <% @inventory_items.each do |it| %>
          <% ji = it.jewelry_item %>
          <% low = it.available_grams.to_i <= 50 %>
          <tr class="<%= 'low' if low %>">
            <td>
              <div style="font-weight:600"><%= ji.name %></div>
              <div class="muted">SKU: <%= ji.sku %></div>
            </td>
            <td><%= it.available_grams %></td>
            <td><%= it.location.presence || 'Main' %></td>
            <td><a href="<%= inventory_item_path(it) %>" class="muted">Show</a></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
