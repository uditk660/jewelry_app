<style>
/* Scoped customer form styles - professional two-column layout */
.customer-page { max-width: 980px; margin: 24px auto; padding: 0 16px; }
.customer-card { background:#fff; border:1px solid #e6edf3; border-radius:10px; padding:18px; box-shadow:0 6px 18px rgba(15,23,42,0.04); }
.customer-header{display:flex;justify-content:space-between;align-items:flex-start;gap:12px;margin-bottom:14px}
.customer-header h1{margin:0;font-size:1.25rem}
.customer-lead{color:var(--muted);margin-top:6px}
.customer-grid{display:grid;grid-template-columns:1fr 1fr;gap:14px}
.form-field{display:flex;flex-direction:column}
.form-field label{font-weight:600;margin-bottom:6px;font-size:0.95rem}
.form-field input[type=text], .form-field input[type=email], .form-field textarea{padding:10px 12px;border:1px solid #e6edf3;border-radius:8px;background:var(--card);box-sizing:border-box}
.form-actions{display:flex;gap:10px;justify-content:flex-end;margin-top:14px}
.notes-field{grid-column:1 / -1}
.error-box{background:#fff6f6;border:1px solid #ffd7d7;padding:10px 12px;border-radius:8px;color:#7b1d1d;margin-bottom:12px}
.field-hint{font-size:0.85rem;color:var(--muted);margin-top:6px}
@media (max-width:760px){.customer-grid{grid-template-columns:1fr}.form-actions{justify-content:flex-start}}
</style>

<div class="customer-page">
  <div class="customer-header">
    <div>
      <h1>Add Customer</h1>
      <div class="customer-lead">Create a customer record with contact and tax details.</div>
    </div>
    <div>
      <%= link_to 'Back to list', customers_path, class: 'btn' %>
    </div>
  </div>

  <div class="customer-card">
    <% if @customer && @customer.errors.any? %>
      <div class="error-box" role="alert">
        <strong><%= pluralize(@customer.errors.count, "error") %> prevented this customer from being saved:</strong>
        <ul>
          <% @customer.errors.full_messages.each do |m| %>
            <li><%= m %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <%= form_for @customer, url: customers_path do |f| %>
      <div class="customer-grid">
        <div class="form-field">
          <%= f.label :first_name, 'First name' %>
          <%= f.text_field :first_name, placeholder: 'Given name', required: true %>
        </div>

        <div class="form-field">
          <%= f.label :last_name, 'Last name' %>
          <%= f.text_field :last_name, placeholder: 'Family name' %>
        </div>

        <div class="form-field">
          <%= f.label :phone, 'Phone' %>
          <%= f.text_field :phone, placeholder: 'Mobile or landline number' %>
          <div class="field-hint">E.g. +91 98765 43210</div>
        </div>

        <div class="form-field">
          <%= f.label :email, 'Email' %>
          <%= f.email_field :email, placeholder: 'name@example.com' %>
        </div>

        <div class="form-field">
          <%= f.label :aadhaar_or_pan, 'Aadhaar or PAN' %>
          <%= f.text_field :aadhaar_or_pan, placeholder: 'Aadhaar / PAN number' %>
        </div>

        <div class="form-field">
          <%= f.label :gst_number, 'GST / Tax Number' %>
          <%= f.text_field :gst_number, placeholder: 'GSTIN (if applicable)' %>
        </div>

        <div class="form-field notes-field">
          <%= f.label :address, 'Address' %>
          <%= f.text_area :address, rows: 4, placeholder: 'Street, city, state, postal code' %>
        </div>

      </div>

      <div class="form-actions">
        <%= f.submit 'Create Customer', class: 'btn btn-primary' %>
        <%= link_to 'Cancel', customers_path, class: 'btn' %>
      </div>
    <% end %>
  </div>
</div>
