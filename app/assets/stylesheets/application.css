/*
 *= require_self
 *= require_tree .
 */

:root{
  --bg: #f6f8fb;
  --card: #ffffff;
  --muted: #6b7280;
  --accent: #2563eb; /* blue */
  --accent-2: #059669; /* green */
  --muted-2: #94a3b8;
  --glass: rgba(15,23,42,0.04);
  --success: #059669;
  --danger: #dc2626;
  --max-width: 1100px;
}

/* Base layout */
html,body{min-height:100%;overflow-x:hidden;}
.body, body{
  font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
  margin:0; padding:0; background:var(--bg); color:#0f172a; -webkit-font-smoothing:antialiased;
  font-size:16px; /* restored base font size */
}
.container{max-width:var(--max-width); margin: 28px auto; padding: 0 20px;}

/* Top navbar */
.navbar{
  display:flex; align-items:center; gap:14px; padding:12px 20px; background:linear-gradient(90deg,#0b1220,#0d1320); border-bottom:1px solid rgba(255,255,255,0.04);
  position:sticky; top:0; z-index:1200; color: #e6eef8;
}
.brand a{color:#fff; font-weight:700; font-size:1.18rem; text-decoration:none; display:inline-flex; align-items:center; gap:10px}
.brand a::before{content:'ðŸ’Ž'; font-size:1.05rem}
.nav-toggle{display:none; background:none; border:1px solid rgba(255,255,255,0.06); color:#dbeafe; padding:6px 10px; border-radius:8px}
.nav-menu{list-style:none; margin:0; padding:0; display:flex; gap:6px; align-items:center; flex:1}
.nav-item{position:relative}
.nav-menu a{color:#dbeafe; text-decoration:none; padding:8px 12px; border-radius:8px; display:block; transition:all 140ms ease}
.nav-menu a:hover{background:rgba(255,255,255,0.03); color:#fff; transform:translateY(-1px)}
.navbar .nav-menu a:focus{outline:2px solid rgba(255,255,255,0.06); outline-offset:2px}
.submenu{position:absolute; top:100%; left:0; background:linear-gradient(180deg,#0b1220,#0d1320); min-width:220px; z-index:1600; border-radius:8px; box-shadow:0 10px 40px rgba(2,6,23,0.25); padding:6px; visibility:hidden; opacity:0; transform:translateY(-6px); transition:opacity 180ms ease, transform 180ms ease, visibility 180ms}
/* keep submenu visible on hover or when a child has focus */
.nav-item:hover .submenu,
.nav-item:focus-within .submenu { visibility:visible; opacity:1; transform:translateY(0); }
.submenu li{list-style:none}
.submenu li a{padding:8px 12px; color:#e6eef8}
.submenu-divider{opacity:0.45; padding:6px 10px; color:var(--muted)}
.nav-item.right{margin-left:auto}

/* Page header */
.page-header{display:flex; justify-content:space-between; align-items:center; gap:12px; margin:20px 0; flex-wrap:nowrap}
.page-header h1{margin:0; font-size:1.35rem}

/* Ensure the left header block can shrink and not force zig-zag wrapping of the action button */
.page-header > div:first-child{flex:1 1 auto; min-width:0}
.page-header > div:last-child{flex:0 0 auto}
.page-header .lead{margin:6px 0 0}
.page-header .btn{white-space:nowrap}
.lead{color:var(--muted); margin-top:6px}

/* Cards */
.card{background:var(--card); border-radius:10px; padding:16px; box-shadow:0 6px 18px rgba(15,23,42,0.04); border:1px solid #eef4fb}

/* Card toolbar used for search and small controls */
.card-toolbar{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;gap:12px}
.search-form{display:flex;gap:8px;align-items:center}
.search-form input[type="text"]{width:420px;max-width:60ch}
.pagination{display:flex;justify-content:flex-end;padding-top:12px}
.pager{display:flex;gap:8px;align-items:center}


/* Tables */
table{width:100%; border-collapse:collapse; background:transparent}
.catalog-table thead th{ text-align:left; color:var(--muted); font-size:0.85rem; padding:10px 12px; border-bottom:1px solid #eff6fb}
.catalog-table tbody td{padding:12px; border-bottom:1px solid #f3f7fb; vertical-align:middle}
.catalog-table tbody tr:hover td{background:#fbfdff; transform:translateY(-1px)}
.muted{color:var(--muted)}

/* Catalog specific styles */
.catalog-table thead th{font-weight:600}
.catalog-table td.item-row{vertical-align:middle}
.item-row{display:flex;align-items:center;gap:12px}
.serial-col{width:44px;text-align:left;color:var(--muted);padding-left:8px;white-space:nowrap;font-size:0.95rem}

@media (max-width:680px){
  /* hide serial number on narrow screens to avoid layout break */
  .serial-col{display:none}
  .catalog-table thead th.serial-col, .catalog-table td.serial-col{display:none}
}
.item-avatar{width:44px;height:44px;border-radius:8px;background:var(--glass);display:inline-flex;align-items:center;justify-content:center;font-size:20px}
.item-meta .item-title{font-size:1rem}
.item-desc{color:var(--muted);margin-top:4px}
.price-badge{background:linear-gradient(90deg, #fff8f0, #fff); padding:6px 10px; border-radius:8px; border:1px solid #f7efe6; font-weight:700}
.available-badge{display:inline-block;padding:6px 8px;border-radius:999px;background:#f7fdfa;border:1px solid #eef9f3;color:var(--accent-2);font-weight:600}
.stock-breakdown{margin-top:6px}
.actions-col{width:110px;text-align:right}
.text-center{text-align:center}
.price-col{width:120px}

/* center price header, but right-align the price cells */
.catalog-table th.price-col{ text-align: center }
.catalog-table td.price-col{ text-align: right }

/* vertically center headers and cells */
.catalog-table thead th, .catalog-table tbody td { vertical-align: middle }

/* Right-align numeric columns for neat alignment */
.catalog-table th.right, .catalog-table td.right, .price-col, .serial-col { text-align: right }

/* Column width hints to keep headers aligned with rows */
.catalog-table th.sku-col, .catalog-table td.sku-col{width:110px;max-width:110px}
.catalog-table th.item-col, .catalog-table td.item-col{min-width:240px}
.catalog-table th.category-col, .catalog-table td.category-col{width:120px}
.catalog-table th.metal-col, .catalog-table td.metal-col{width:100px}
.catalog-table th.purity-col, .catalog-table td.purity-col{width:90px}
.catalog-table th.weight-col, .catalog-table td.weight-col{width:100px}
.catalog-table th.available-col, .catalog-table td.available-col{width:120px}
.catalog-table th.actions-col, .catalog-table td.actions-col{width:90px}
/* Orders table specific improvements */
.orders-table{width:100%;border-collapse:collapse;margin-top:6px}
.orders-table{table-layout:fixed}
.orders-table th{background:transparent;text-align:left;color:var(--muted);padding:10px 12px;border-bottom:1px solid #eef4fb}
.orders-table td{padding:10px 12px;border-bottom:1px solid #f3f7fb;vertical-align:middle;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.orders-table td.item-list{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
.orders-table td.small{color:var(--muted)}
.orders-table th:nth-child(1), .orders-table td:nth-child(1){
  /* shrink SNo to create ~1/2" additional space for the Invoice column */
  width:28px !important;
  min-width:28px !important;
  max-width:28px !important;
  padding-left:6px !important;
  text-align:left;
}
.orders-table th:nth-child(2), .orders-table td:nth-child(2){
  /* reduce left padding so Invoice content sits closer to left edge */
  padding-left:6px !important;
}
.orders-table td:nth-child(2){width:160px;min-width:120px}
.orders-table td:nth-child(3){width:90px}
.orders-table td:nth-child(4){width:90px}
.orders-table td:nth-child(5){width:140px;min-width:110px}
.orders-table td:nth-child(6){min-width:220px}
.orders-table td:nth-child(6){min-width:160px}
.orders-table td:nth-child(7), .orders-table td:nth-child(8){width:90px;text-align:right}
.orders-table td:nth-child(9){width:120px;text-align:right}
.orders-table td:nth-child(10){width:90px;text-align:right}
.orders-table th:nth-child(3), .orders-table td:nth-child(3){
  padding-left:20px !important;
  width:120px !important;
  min-width:100px !important;
  text-align:left !important;
}

/* Reduce small button padding inside orders table to avoid horizontal clipping */
.orders-table .btn.btn-sm{padding:6px 8px}


/* Forms */
form input[type="text"], form input[type="number"], form textarea, form select{background: var(--card); border:1px solid #e6edf3; color:#0b1220; padding:10px 12px; border-radius:8px; width:100%; box-sizing:border-box}
form label{display:block; color:var(--muted); font-size:0.9rem; margin-bottom:6px}
.form-row{display:flex; gap:12px}
.form-row > *{flex:1}

/*
 *= require_self
 *= require_tree .
 */

:root{
  --bg: #f6f8fb;
  --card: #ffffff;
  --muted: #6b7280;
  --accent: #2563eb; /* blue */
  --accent-2: #059669; /* green */
  --muted-2: #94a3b8;
  --glass: rgba(15,23,42,0.04);
  --success: #059669;
  --danger: #dc2626;
  --max-width: 1100px;
}

/* Base layout */
html,body{min-height:100%;overflow-x:hidden;}
body{
  font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
  margin:0; padding:0; background:var(--bg); color:#0f172a; -webkit-font-smoothing:antialiased;
}
.container{max-width:var(--max-width); margin: 28px auto; padding: 0 20px;}

/* Top navbar */
.navbar{
  display:flex; align-items:center; gap:14px; padding:12px 20px; background:linear-gradient(90deg,#0b1220,#0d1320); border-bottom:1px solid rgba(255,255,255,0.04);
  position:sticky; top:0; z-index:1200; color: #e6eef8;
}
.brand a{color:#fff; font-weight:700; font-size:1.18rem; text-decoration:none; display:inline-flex; align-items:center; gap:10px}
.brand a::before{content:'ðŸ’Ž'; font-size:1.05rem}
.nav-toggle{display:none; background:none; border:1px solid rgba(255,255,255,0.06); color:#dbeafe; padding:6px 10px; border-radius:8px}
.nav-menu{list-style:none; margin:0; padding:0; display:flex; gap:6px; align-items:center; flex:1}
.nav-item{position:relative}
.nav-menu a{color:#dbeafe; text-decoration:none; padding:8px 12px; border-radius:8px; display:block; transition:all 140ms ease}
.nav-menu a:hover{background:rgba(255,255,255,0.03); color:#fff; transform:translateY(-1px)}
.navbar .nav-menu a:focus{outline:2px solid rgba(255,255,255,0.06); outline-offset:2px}
.submenu{position:absolute; top:100%; left:0; background:linear-gradient(180deg,#0b1220,#0d1320); min-width:220px; z-index:1600; border-radius:8px; box-shadow:0 10px 40px rgba(2,6,23,0.25); padding:6px; visibility:hidden; opacity:0; transform:translateY(-6px); transition:opacity 180ms ease, transform 180ms ease, visibility 180ms}
/* keep submenu visible on hover or when a child has focus */
.nav-item:hover .submenu,
.nav-item:focus-within .submenu { visibility:visible; opacity:1; transform:translateY(0); }
.submenu li{list-style:none}
.submenu li a{padding:8px 12px; color:#e6eef8}
.submenu-divider{opacity:0.45; padding:6px 10px; color:var(--muted)}
.nav-item.right{margin-left:auto}

/* Page header */
.page-header{display:flex; justify-content:space-between; align-items:center; gap:12px; margin:20px 0}
.page-header h1{margin:0; font-size:1.35rem}
.lead{color:var(--muted); margin-top:6px}

/* Cards */
.card{background:var(--card); border-radius:10px; padding:16px; box-shadow:0 6px 18px rgba(15,23,42,0.04); border:1px solid #eef4fb}

/* Tables */
table{width:100%; border-collapse:collapse; background:transparent}
thead th{ text-align:left; color:var(--muted); font-size:0.85rem; padding:10px 12px; border-bottom:1px solid #eff6fb}
tbody td{padding:12px; border-bottom:1px solid #f3f7fb; vertical-align:middle}
tbody tr:hover td{background:#fbfdff}
.muted{color:var(--muted)}

/* Catalog specific styles */
.catalog-table thead th{font-weight:600}
.catalog-table td.item-row{vertical-align:middle}
.item-row{display:flex;align-items:center;gap:12px}
.serial-col{width:44px;text-align:right;color:var(--muted);padding-right:8px}

@media (max-width:680px){
  /* hide serial number on narrow screens to avoid layout break */
  .serial-col{display:none}
  .catalog-table thead th.serial-col, .catalog-table td.serial-col{display:none}
}
.item-avatar{width:44px;height:44px;border-radius:8px;background:var(--glass);display:inline-flex;align-items:center;justify-content:center;font-size:20px}
.item-meta .item-title{font-size:1rem}
.item-desc{color:var(--muted);margin-top:4px}
.price-badge{background:linear-gradient(90deg, #fff8f0, #fff); padding:6px 10px; border-radius:8px; border:1px solid #f7efe6; font-weight:700}
.available-badge{display:inline-block;padding:6px 8px;border-radius:999px;background:#f7fdfa;border:1px solid #eef9f3;color:var(--accent-2);font-weight:600}
.stock-breakdown{margin-top:6px}
.actions-col{width:110px;text-align:right}
.text-center{text-align:center}
.price-col{width:120px}

/* Forms */
form input[type="text"], form input[type="number"], form textarea, form select{background: var(--card); border:1px solid #e6edf3; color:#0b1220; padding:10px 12px; border-radius:8px; width:100%; box-sizing:border-box}
form label{display:block; color:var(--muted); font-size:0.9rem; margin-bottom:6px}
.form-row{display:flex; gap:12px}
.form-row > *{flex:1}

/* Buttons - modern, accessible styles */
.btn{
  display:inline-flex;
  align-items:center;
  gap:10px;
  padding:8px 14px;
  border-radius:10px;
  border:1px solid rgba(15,23,42,0.06);
  cursor:pointer;
  background:var(--card);
  color:#0b1220;
  font-weight:600;
  line-height:1;
  transition:transform 120ms ease, box-shadow 120ms ease, background-color 120ms ease, opacity 120ms ease;
  box-shadow: 0 2px 6px rgba(2,6,23,0.04);
}
.btn:hover{ transform:translateY(-2px); box-shadow: 0 8px 26px rgba(2,6,23,0.06); }
.btn:active{ transform:translateY(0); box-shadow: 0 4px 12px rgba(2,6,23,0.06); }
.btn:focus{ outline:none; box-shadow: 0 0 0 4px rgba(37,99,235,0.12); }
.btn[disabled], .btn.disabled{ opacity:0.6; cursor:not-allowed; transform:none; box-shadow:none }

.btn-primary{
  background: linear-gradient(90deg, var(--accent), #1e40af);
  color: white;
  border-color: transparent;
  box-shadow: 0 8px 30px rgba(37,99,235,0.12);
}
.btn-primary:hover{ box-shadow: 0 18px 50px rgba(37,99,235,0.12); }

.btn-danger{
  background: linear-gradient(90deg,#ff6b6b, var(--danger));
  color: white;
  border-color: transparent;
  box-shadow: 0 8px 24px rgba(220,38,38,0.08);
}

/* Button sizes */
.btn-sm{ padding:6px 10px; border-radius:8px; font-size:0.9rem }
.btn-lg{ padding:12px 18px; border-radius:12px; font-size:1.05rem }

/* Outline variant (useful for secondary actions) */
.btn-outline{ background:transparent; border:1px solid rgba(15,23,42,0.06); color:var(--muted) }

/* Flash messages */
.flash{padding:10px 14px; border-radius:8px; margin:12px 0}
.flash.notice{background:rgba(6,182,129,0.08); color:var(--success); border:1px solid rgba(6,182,129,0.08)}
.flash.alert{background:rgba(220,38,38,0.06); color:var(--danger)}

/* Small utilities */
.right{float:right}
.small{font-size:0.85rem; color:var(--muted)}
.badge{background:#f3f7fb; padding:6px 8px; border-radius:999px; color:var(--muted); font-size:0.85rem}

/* Order form specific */
.order-items-table th{background:transparent;color:var(--muted);font-weight:600;padding:12px}
.order-items-table td{padding:10px;vertical-align:middle}
.order-items-table select.form-control{padding:8px;border-radius:6px}
.order-items-table input[type=number]{padding:8px;border-radius:6px}
.order-items-table .remove{background:#fff;border:1px solid #eef4fb;padding:6px 8px}
.order-items-table .col-price{color:var(--muted)}
.order-items-table .col-line{font-weight:700;text-align:right}
.action-group{display:flex;gap:8px}
  
/* Professional compact layout for order item registration */
.order-items-table thead th{font-weight:700; font-size:0.95rem; padding:10px 8px}
.order-items-table td, .order-items-table th{vertical-align:middle}
/* Uniform input styles for registration */
.order-items-table td input[type="text"],
.order-items-table td input[type="number"],
.order-items-table td select{font-size:1rem; padding:8px 10px; height:38px; border-radius:8px; border:1px solid #e6edf3; box-sizing:border-box}
.order-items-table td .huid-field{width:140px; background:#f7f7f9;}
.order-items-table td .rate-field{width:100px; text-align:right;}
.order-items-table td .qty{width:90px}
.order-items-table td input[step]{width:110px}
.order-items-table .price-cell, .order-items-table .line-total{text-align:right; min-width:100px}
.order-items-table .col-actions{width:80px}

/* Make rows comfortable for touch and typing */
.order-items-table tbody tr{height:48px}
.order-items-table button.remove{padding:6px 10px; border-radius:8px; background:#fff; border:1px solid #efeff2}
.new-customer-card .card{box-shadow:none;border:1px solid #eef4fb}

/* small responsive tweak */
@media (max-width:720px){
  .order-items-table th, .order-items-table td{font-size:0.95rem}
  .order-summary{max-width:100%}
}

/* Responsive */
@media (max-width:900px){
  .nav-toggle{display:inline-block}
  .nav-menu{display:none; flex-direction:column; background:var(--card); position:absolute; left:20px; right:20px; top:68px; padding:12px; border-radius:10px}
  .nav-menu.show{display:flex}
  .nav-item:hover .submenu{display:none}
  .submenu{position:relative; top:0; left:0; box-shadow:none; padding:0}
  .page-header{flex-direction:column; align-items:flex-start}
}

/* Highlight for adjusted rows */
.highlight{animation:flash 1.2s ease}
@keyframes flash{0%{background:rgba(6,182,129,0.12)}60%{background:transparent}100%{background:transparent}}

/* Invoice specific styles */
.invoice-card{background:#fff; color:#222; padding:22px; border-radius:8px; box-shadow:0 8px 30px rgba(2,6,23,0.06);} 
.inv-header{display:flex;justify-content:space-between;gap:20px;align-items:flex-start;margin-bottom:18px}
.company h1{margin:0;font-size:22px}

/* Header layout for centered QR */
.inv-header{align-items:center}
.inv-header .company{flex:1}
.inv-header .qr-center{flex:0 0 120px}
.inv-header > div[style*="text-align:right"]{flex:0 0 260px}
.muted{color:#6b7280}
.items-table{width:100%;border-collapse:collapse;margin-top:12px;table-layout:auto}
.items-table th,.items-table td{padding:12px;border:1px solid #eef4fb;vertical-align:middle}
.items-table th{background:#fbfdff;text-align:left;white-space:nowrap}
.items-table td.description{white-space:normal}
.items-table td{white-space:nowrap}

/* Make invoice table columns responsive so numeric values don't get clipped */
.invoice-card .items-table{table-layout:fixed}
.invoice-card .items-table td.description, .invoice-card .items-table th:nth-child(2){white-space:normal;overflow-wrap:break-word}

/* Reduce numeric column widths so they fit on small containers and avoid clipping (override inline widths if necessary) */
.invoice-card .items-table th.right{width:84px !important}
.invoice-card .items-table th[style*="width:70px"]{width:64px !important}
.invoice-card .items-table th[style*="width:90px"]{width:80px !important}
.invoice-card .items-table th[style*="width:110px"]{width:96px !important}
.invoice-card .items-table td.right{overflow:hidden;text-overflow:ellipsis}

/* On narrow screens, stack the summary box below the table so table has full width */
@media (max-width:880px){
  .invoice-card{padding:12px}
  .invoice-card .summary-box{width:100%;margin-top:12px}
  .invoice-card .items-table th, .invoice-card .items-table td{font-size:13px;padding:8px}
}

/* Invoice table: ensure numeric columns align right (override global .right float) */
.items-table th.right, .items-table td.right{
  float: none !important;
  text-align: right !important;
}

/* tighten numeric column padding for better alignment */
.items-table td.right{padding-right:14px}
.items-table th.right{padding-right:14px}

/* ensure description column can wrap and use normal alignment */
.items-table td.description{padding-left:10px}

/* Order summary card */
.order-summary{
  background:#fff;
  border:1px solid #e6eef8;
  border-radius:6px;
  padding:12px 14px;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
  box-shadow: 0 1px 2px rgba(16,24,40,0.04);
}
.order-summary .summary-row{
  display:flex;
  justify-content:space-between;
  padding:6px 2px;
  align-items:center;
}

/* Print styles: hide chrome, stabilize layout, and ensure invoices print nicely */
@media print {
  /* Hide navigation, interactive controls and non-essential chrome */
  .navbar, .nav-menu, .nav-toggle, .submenu, .search-form, .pagination, .pager, .flash, .brand a::before { display: none !important; }
  .btn, .btn-primary, .btn-danger, .btn-outline, .action-group, .remove, input[type="button"], input[type="submit"], a.button { display: none !important; }

  /* Make body neutral for printing */
  html, body { background: #ffffff !important; color: #000 !important; -webkit-print-color-adjust: exact; print-color-adjust: exact; }
  .container { max-width: 100% !important; margin: 0 !important; padding: 6mm !important; }

  /* Invoice card: occupy full printable width and avoid breaking across pages */
  .invoice-card { background: #fff !important; box-shadow: none !important; border: 1px solid #ddd !important; padding: 8pt !important; width: 100% !important; page-break-inside: avoid; }
  /* Keep header layout side-by-side for company / QR / customer/tax info */
  .inv-header { display:flex !important; justify-content:space-between !important; align-items:center !important; width:100% !important; margin-bottom: 6pt !important; }

  /* Tables: tighter spacing and guaranteed full width */
  table, .items-table, .order-items-table { width: 100% !important; table-layout: auto !important; border-collapse: collapse !important; font-size: 11px !important; line-height:1 !important; }
  /* Compact rows and columns */
  .items-table th, .items-table td, .order-items-table th, .order-items-table td { padding: 4px 6px !important; border: 1px solid #ddd !important; color: #000 !important; white-space: nowrap !important; overflow: hidden !important; text-overflow: ellipsis !important; }
  .items-table th { background: #f7f7f7 !important; }

  /* Make numeric columns right aligned and keep rows compact (truncate long text) */
  .items-table td.description, .items-table th:nth-child(2) { white-space: nowrap !important; overflow: hidden !important; text-overflow: ellipsis !important; }
  .items-table td.right, .items-table th.right { text-align: right !important; }

  /* Hide form inputs/controls so they don't disrupt layout */
  input, textarea, select { border: none !important; background: transparent !important; box-shadow: none !important; color: #000 !important; }

  /* Images and SVG scale to the printable area */
  img, svg { max-width: 100% !important; height: auto !important; }

  /* Ensure summary box sits below the table on small paper widths */
  .invoice-card .summary-box { float: none !important; width: 100% !important; margin-top: 8pt !important; }

  /* Avoid awkward page breaks in table rows; allow sensible breaking between rows */
  tr { page-break-inside: avoid !important; }

  /* Page setup */
  @page { size: auto; margin: 10mm; }
}
.order-summary .summary-row.muted{color:#5b6b7a;font-size:0.95em}
.order-summary .summary-divider{height:1px;background:#eef4fb;margin:8px 0}
.order-summary .total{font-size:1.05em}
.order-summary .right{text-align:right;min-width:110px}

/* subtle responsive behavior */
@media (max-width:520px){
  .order-summary{max-width:100%}
  .order-summary .right{min-width:80px}
}

/* Product detail page */
.product-hero{padding:20px}
.product-grid{display:flex;gap:20px;align-items:flex-start;flex-wrap:wrap}
.product-media{flex:0 0 220px;min-width:120px}
.product-image{width:100%;max-width:220px;height:220px;border-radius:12px;background:var(--glass);display:flex;align-items:center;justify-content:center;font-size:64px;overflow:hidden}
.product-actions{margin-top:10px;display:flex;gap:8px}
.product-details{flex:1}
.product-title{margin:0;font-size:1.5rem}
.product-desc{margin-top:12px;color:var(--muted)}
.product-pricing{display:flex;align-items:center;gap:20px;margin-top:14px}
.price-large{font-size:1.6rem;font-weight:800;color:var(--accent)}
.product-attributes dl{display:grid;grid-template-columns:140px 1fr;gap:6px 12px;margin:0;padding:0}
.product-attributes dt{margin:0;color:var(--muted);font-weight:600}
.product-attributes dd{margin:0}
.stock-breakdown{margin-top:12px}

@media (max-width:880px){
  .product-grid{flex-direction:column}
  .product-media{flex:unset}
  .product-image{width:100%;height:220px}
}

/* Edit page grid */
.edit-grid{display:flex;gap:20px;flex-wrap:wrap;align-items:flex-start}
.edit-form{flex:1;min-width:260px}
.edit-preview{flex:0 0 360px;min-width:260px;max-width:420px}
@media (max-width:980px){
  .edit-grid{flex-direction:column}
  .edit-preview{width:auto;flex:unset}
}

/* field error highlight */
.field-error{border-color:#dc2626 !important; box-shadow:0 0 0 3px rgba(220,38,38,0.06) !important}
select.field-error, textarea.field-error { border-color: #dc2626 !important; box-shadow: 0 0 0 3px rgba(220,38,38,0.06) !important }

/* simple modal for form errors */
#error-modal{position:fixed;left:0;right:0;top:0;bottom:0;display:none;align-items:center;justify-content:center;z-index:2000}
#error-modal .backdrop{position:absolute;left:0;right:0;top:0;bottom:0;background:rgba(2,6,23,0.5)}
#error-modal .panel{position:relative;background:#fff;border-radius:8px;padding:18px;max-width:720px;width:100%;z-index:2001;box-shadow:0 10px 40px rgba(2,6,23,0.25)}
#error-modal .panel h3{margin-top:0}
#error-modal .panel ul{margin:8px 0 0 20px}
#error-modal .panel .close{position:absolute;right:12px;top:12px;border:0;background:none;font-size:18px}

/* Layout for customer form and summary - keep them side-by-side on wide screens */
.customer-and-summary{display:flex;gap:16px;align-items:flex-start}
.customer-and-summary .customer-section{flex:1}
.customer-and-summary > div:nth-child(2){flex:0 0 340px}
@media (max-width:880px){
  .customer-and-summary{flex-direction:column}
  .customer-and-summary > div:nth-child(2){flex:unset}
}
.summary-box{width:320px;border:1px solid #eef4fb;padding:12px;background:#fff;border-radius:6px}
.summary-box .row{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px dashed #f3f7fb}
.summary-box .row:last-child{border-bottom:0;font-weight:700}
.no-print{display:inline-block}
@media print{.no-print{display:none!important}; .invoice-card{box-shadow:none;border:none}}

/* Hide app chrome when printing invoices */
@media print {
  body { background: #fff; }
  .navbar, .nav-menu, .page-header, .footer, .flash, .container > .page-header { display: none !important; }
  .invoice-card { box-shadow:none; border:none; margin:0; padding:0; }
  .container { max-width: 100%; padding: 0; }
}

/* Improve printed invoice layout: smaller fonts, controlled page size and avoid stray blank page */
@page { size: A4; margin: 8mm; }
@media print {
  html, body { height: auto; }
  body { font-size: 11px; -webkit-print-color-adjust: exact; print-color-adjust: exact; }
  .invoice-card { padding: 6mm !important; page-break-after: avoid; page-break-inside: avoid; -webkit-print-color-adjust: exact; print-color-adjust: exact; }
  .invoice-card, .items-table, .summary-box { box-shadow: none !important; border: none !important; }
  .items-table th, .items-table td { font-size: 11px; }
  .price-large { font-size: 1.2rem; }
  /* Constrain QR svg so it doesn't force an extra page */
  .invoice-card svg { max-width: 72px; max-height: 72px; height: auto; display: block; }
  /* Ensure tables can break across pages gracefully */
  table { page-break-inside: auto; }
  tr    { page-break-inside: avoid; page-break-after: auto; }
  thead { display: table-header-group; }
  tfoot { display: table-footer-group; }
}

/* Stamp and signature styles */
.stamp-box{flex:0 0 160px}
.stamp-area{width:140px;height:70px;border:2px dashed #d1d5db;border-radius:6px;margin-top:6px}
.stamp-label{font-size:0.85rem;color:var(--muted)}
.signature-line{border-top:1px solid #111;width:220px;height:0;margin-bottom:6px}
.signature-name{font-size:0.9rem;color:var(--muted)}

@media print{
  .stamp-area{border-style:solid}
  .signature-line{border-top:1px solid #000}
}

